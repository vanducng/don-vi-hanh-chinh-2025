<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B·∫£n ƒë·ªì ƒê∆°n v·ªã H√†nh ch√≠nh Vi·ªát Nam 2025</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
          integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
          crossorigin=""/>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header>
            <h1>B·∫£n ƒë·ªì ƒê∆°n v·ªã H√†nh ch√≠nh Vi·ªát Nam 2025</h1>
            <p class="subtitle">Tra c·ª©u 3.321 ph∆∞·ªùng, x√£ tr√™n c·∫£ n∆∞·ªõc sau s·∫Øp x·∫øp</p>
        </header>

        <!-- Main Content -->
        <main>
            <!-- Statistics Overview -->
            <section class="statistics-overview">
                <div class="stat-card">
                    <div class="stat-number" id="total-units">0</div>
                    <div class="stat-label">T·ªïng ƒë∆°n v·ªã</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="total-provinces">0</div>
                    <div class="stat-label">T·ªânh/Th√†nh ph·ªë</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="merged-units">0</div>
                    <div class="stat-label">ƒê∆°n v·ªã s√°p nh·∫≠p</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="unchanged-units">0</div>
                    <div class="stat-label">Kh√¥ng thay ƒë·ªïi</div>
                </div>
            </section>

            <!-- Search and Download Section -->
            <section class="search-section">
                <div class="search-container">
                    <input type="text" id="search-input" placeholder="T√¨m ki·∫øm ph∆∞·ªùng, x√£, t·ªânh..." class="search-box">
                    <button id="download-csv" class="download-btn" title="T·∫£i xu·ªëng d·ªØ li·ªáu CSV">
                        <span>‚¨á</span>
                        <span>CSV</span>
                    </button>
                </div>
                <div id="search-results" class="search-results"></div>
            </section>

            <!-- Map and Charts Container -->
            <div class="content-grid">
                <!-- Map Section -->
                <section class="map-section">
                    <h2>B·∫£n ƒë·ªì c√°c t·ªânh th√†nh</h2>
                    <div id="map" class="map-container"></div>
                    <div class="map-legend">
                        <h4>Ch√∫ th√≠ch</h4>
                        <div class="legend-item">
                            <span class="legend-color" style="background: #8B0000"></span>
                            <span>Nhi·ªÅu thay ƒë·ªïi nh·∫•t</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: #FF6B6B"></span>
                            <span>Thay ƒë·ªïi trung b√¨nh</span>
                        </div>
                        <div class="legend-item">
                            <span class="legend-color" style="background: #FFE5E5"></span>
                            <span>√çt thay ƒë·ªïi</span>
                        </div>
                    </div>
                </section>

                <!-- Charts Section -->
                <section class="charts-section">
                    <!-- Top Provinces Chart -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Top 15 t·ªânh c√≥ nhi·ªÅu thay ƒë·ªïi nh·∫•t</h3>
                            <span class="chart-hint">üí° Nh·∫•p v√†o c·ªôt ƒë·ªÉ xem chi ti·∫øt</span>
                        </div>
                        <canvas id="top-provinces-chart"></canvas>
                    </div>

                    <!-- Merger Distribution Chart -->
                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>Ph√¢n b·ªë s·ªë l∆∞·ª£ng ƒë∆°n v·ªã s√°p nh·∫≠p</h3>
                            <span class="chart-hint">üí° Nh·∫•p ƒë·ªÉ l·ªçc d·ªØ li·ªáu</span>
                        </div>
                        <canvas id="merger-distribution-chart"></canvas>
                        <div id="filter-status" class="filter-status" style="display: none;">
                            <span id="filter-text"></span>
                            <button id="clear-filter" class="clear-filter-btn">‚úï B·ªè l·ªçc</button>
                        </div>
                    </div>
                </section>
            </div>

            <!-- Province Details Section -->
            <section id="province-details" class="province-details" style="display: none;">
                <h2 id="province-name">Chi ti·∫øt t·ªânh</h2>
                <div class="province-stats">
                    <div class="stat-row">
                        <span class="stat-label">T·ªïng ƒë∆°n v·ªã:</span>
                        <span id="province-total" class="stat-value">0</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">ƒê∆°n v·ªã s√°p nh·∫≠p:</span>
                        <span id="province-merged" class="stat-value">0</span>
                    </div>
                    <div class="stat-row">
                        <span class="stat-label">Kh√¥ng thay ƒë·ªïi:</span>
                        <span id="province-unchanged" class="stat-value">0</span>
                    </div>
                </div>
                <div class="units-table-container">
                    <h3>Danh s√°ch ƒë∆°n v·ªã h√†nh ch√≠nh</h3>
                    <table id="units-table" class="units-table">
                        <thead>
                            <tr>
                                <th>STT</th>
                                <th>Ph∆∞·ªùng/X√£ m·ªõi</th>
                                <th>Ph∆∞·ªùng/X√£ tr∆∞·ªõc s√°p nh·∫≠p</th>
                                <th>Lo·∫°i</th>
                            </tr>
                        </thead>
                        <tbody id="units-tbody">
                        </tbody>
                    </table>
                </div>
            </section>
        </main>

        <!-- Footer -->
        <footer>
            <p>D·ªØ li·ªáu t·ª´ <a href="https://vnexpress.net/tra-cuu-3-321-phuong-xa-tren-ca-nuoc-sau-sap-xep-4903454.html" target="_blank">VnExpress</a></p>
            <p>¬© 2025 - B·∫£n ƒë·ªì t∆∞∆°ng t√°c ƒë∆°n v·ªã h√†nh ch√≠nh Vi·ªát Nam</p>
        </footer>
    </div>

    <!-- Loading Indicator -->
    <div id="loading" class="loading">
        <div class="loading-spinner"></div>
        <p>ƒêang t·∫£i d·ªØ li·ªáu...</p>
    </div>

    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
            integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
            crossorigin=""></script>
    
    <!-- App JS -->
    <script src="app.js"></script>
</body>
</html>